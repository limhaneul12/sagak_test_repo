# Look-and-Say 수열 알고리즘 구현

## 문제 설명

Look-and-Say 수열(개미 수열)은 이전 항을 읽어서 새로운 항을 만드는 수열입니다.

1. 첫번째 항은 1
2. 두번째 항은 '1이 1개' → 11
3. 세번째 항은 '1이 2개' → 21
4. 네번째 항은 '2가 1개, 1이 1개' → 1211

> 본 문제: 양의 정수 n이 주어질 때 n번째 항(Ln)의 자릿수 중 가운데 두 자리수(m)를 구합니다.
> (단 첫번째 항은 1이고, 입력값 n은 3보다 크고 100보다 작습니다.)

예) 입력 n=5, 출력 m=12 / 입력 n=8, 출력 m=21

## 구현 버전

이 문제에 대해 세 가지 다른 구현 방식을 제공합니다:

### 1. Version 1 (look_and_say_version1.py)

- **접근 방식**: 재귀적 구현
- **특징**: 직관적인 코드 구조, 단순한 로직
- **한계점**: n이 큰 경우 재귀 깊이 문제, 중복 계산으로 인한 성능 저하

### 2. Version 2 (look_and_say_version2.py)

- **접근 방식**: 반복적(iterative) 구현
- **개선점**: 
  - 재귀 깊이 제한 해결
  - 입력값 유효성 검증 추가 (3 < n < 100)
- **한계점**: 매번 처음부터 계산하여 성능 최적화 여지 있음

### 3. Version 3 (look_and_say_version3.py)

- **접근 방식**: 반복적 구현 + 메모이제이션 + 문자열 최적화
- **개선점**:
  - 메모이제이션을 통한 중복 계산 방지
  - 문자열 연산 최적화 (리스트에 모아 join)


## 성능 비교

### 복잡도 분석
- **Version 1**: O(2^n)에 가까운 시간 복잡도, n이 커질수록 성능 급격히 저하
- **Version 2**: O(M) 시간 복잡도 (M은 n번째 항의 길이)
- **Version 3**: 캐싱을 통해 O(n)에 가까운 시간 복잡도 달성, 문자열 연산 최적화로 추가 성능 개선

### 벤치마크 결과

```
------------------------------------------ 벤치마크 결과 ------------------------------------------
Name (time in us)         Min        Max        Mean      StdDev      Median     
------------------------------------------------------------------------------------------
test_benchmark_v1        28.29     119.00      29.58      2.67        29.08      // 재귀
test_benchmark_v2       108.16     213.75     110.34      4.84       109.04      // 반복
test_benchmark_v3       111.50     209.58     113.28      3.06       112.41      // 메모이제이션
------------------------------------------------------------------------------------------
```

### 벤치마크 분석

- **작은 값(n=15)에서는 재귀 구현이 제일 빠름**: 기본 재귀 구현이 오히려 다른 구현보다 4배 정도 빠름
- **큰 값(n > 30)에서는 재귀 스택 오버플로우 위험**: 입력이 커지면 재귀 구현은 실패할 가능성 높음
- **반복 실행 & 메모이제이션 같은 성능**: 같은 값(n=20)에서 두 구현 성능 차이 미미함
- **별도 프로세스에서 캐싱 효과 없음**: 현재 테스트 프레임워크에서는 메모이제이션 효과 명확히 드러나지 않음

### 요약

- **작은 n**: 재귀 구현(Version 1)이 가장 효율적
- **중간 크기 n**: 반복 구현(Version 2)이 안정적
- **큰 n 또는 반복 계산**: 메모이제이션 구현(Version 3)이 최적

## 실행 방법

각 버전은 다음과 같이 실행할 수 있습니다:

```bash
python look_and_say_version1.py
python look_and_say_version2.py
python look_and_say_version3.py
```

## 테스트 방법

모든 구현을 테스트하기 위한 pytest 기반 테스트 코드가 제공됩니다:

```bash
pytest -s test_look_and_say.py
```

추가적인 벤치마크 테스트는 다음 명령으로 실행할 수 있습니다:

```bash
pytest -s test_look_and_say.py::TestPerformance
```

